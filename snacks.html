<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snacks Naturales</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #f4f6f8;
  color: #333;
  margin: 0;
  padding-bottom: 120px;
}

h1 {
  text-align: center;
  color: #4CAF50;
  margin: 25px 0 10px;
}

.container {
  max-width: 1100px;
  margin: auto;
  background: #fff;
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.section {
  margin-top: 25px;
}

.section h2 {
  color: #4CAF50;
  margin-bottom: 15px;
}

.items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 15px;
}

.item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 15px;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  position: relative;
}

.item img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 10px;
}

.lupa {
  position: absolute;
  top: 8px; right: 10px;
  cursor: pointer;
  font-size: 18px;
  color: #4CAF50;
  transition: .2s;
}
.lupa:hover { transform: scale(1.2); color: #388E3C; }

.price {
  margin: 5px 0;
  color: #777;
}

.select-box {
  margin: 10px 0;
}

.select-box select {
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.input-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 6px;
  margin-top: 8px;
}
.btn {
  width: 26px; height: 26px;
  border: none; border-radius: 50%;
  font-size: 18px; font-weight: bold;
  background: #e8f5e9; color: #4CAF50;
  cursor: pointer; transition: .2s;
}
.btn:hover { transform: scale(1.15); background: #c8e6c9; }
.item input {
  width: 70px; padding: 6px;
  font-size: 14px; border-radius: 6px;
  border: 1px solid #ccc; text-align: center;
}

#total {
  text-align: center;
  font-weight: bold;
  font-size: 18px;
  margin-top: 20px;
}

#comprar {
  display:block; margin:20px auto;
  padding:12px 25px;
  background:#4CAF50; color:#fff;
  font-size:18px; border:none;
  border-radius:10px; cursor:pointer;
}
#comprar:disabled { background:#ccc; cursor:not-allowed; }

.modal {
  display: none;
  position: fixed; z-index: 10;
  left: 0; top: 0; width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.4);
}
.modal-content {
  background: white;
  margin: 15% auto;
  padding: 20px;
  border-radius: 12px;
  width: 80%; max-width: 400px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.modal h2 { color: #4CAF50; }
.modal ul { padding-left: 20px; }
.close {
  float: right;
  font-size: 22px;
  cursor: pointer;
}
.close:hover { color: red; }
</style>
</head>
<body>
<h1>Nuestras Opciones de Snacks</h1>

<div class="container">
  <!-- ü•£ Snacks Individuales -->
  <div class="section" id="individuales">
    <h2>Snacks Individuales</h2>
    <div class="items-grid" id="snacksIndividuales"></div>
  </div>

  <!-- üß∫ Snacks Combinados -->
  <div class="section" id="combinados">
    <h2>Snacks Combinados</h2>
    <div class="items-grid" id="snacksCombinados"></div>
  </div>

  <div id="total">Total: $0 COP</div>
  <button id="comprar" disabled>üõí Realizar compra</button>
</div>

<!-- Modal Beneficios -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 id="benefTitle"></h2>
    <ul id="benefList"></ul>
  </div>
</div>

<script>
const beneficios = {
  "Granola": ["Aporta energ√≠a sostenida", "Rica en fibra y antioxidantes", "Ideal para el desayuno"],
  "Man√≠ tostado": ["Fuente de prote√≠na vegetal", "Energ√≠a r√°pida"],
  "Mix energ√©tico": ["Mezcla balanceada", "Ideal para deportistas"],
  "Mix tropical": ["Sabor dulce y natural", "Con frutas deshidratadas"],
  "Mix fitness": ["Alta en prote√≠na", "Sin az√∫car a√±adida"]
};

const individuales = [
  {
    nombre: "Granola",
    precio: 250,
    opciones: ["Granola cl√°sica", "Granola con miel", "Granola sin az√∫car"],
    img: "https://cdn-icons-png.flaticon.com/512/1530/1530066.png"
  },
  {
    nombre: "Man√≠ tostado",
    precio: 200,
    img: "https://cdn-icons-png.flaticon.com/512/3145/3145765.png"
  }
];

const combinados = [
  {
    nombre: "Mix energ√©tico",
    descripcion: "40% man√≠, 30% almendras, 30% avena integral",
    precio: 500,
    img: "https://cdn-icons-png.flaticon.com/512/4151/4151564.png"
  },
  {
    nombre: "Mix tropical",
    descripcion: "30% almendras, 40% pasas, 30% coco deshidratado",
    precio: 550,
    img: "https://cdn-icons-png.flaticon.com/512/263/263115.png"
  },
  {
    nombre: "Mix fitness",
    descripcion: "50% avena, 25% nueces, 25% semillas de ch√≠a",
    precio: 600,
    img: "https://cdn-icons-png.flaticon.com/512/263/263111.png"
  }
];

const contInd = document.getElementById("snacksIndividuales");
const contComb = document.getElementById("snacksCombinados");
const totalDiv = document.getElementById("total");
const comprarBtn = document.getElementById("comprar");

function crearItem(snack, contenedor) {
  contenedor.innerHTML += `
  <div class="item" data-nombre="${snack.nombre}" data-precio="${snack.precio}">
    <span class="lupa" title="Ver beneficios">üîç</span>
    <img src="${snack.img}" alt="${snack.nombre}">
    <p><strong>${snack.nombre}</strong></p>
    <div class="price">$${snack.precio.toLocaleString()} / 100g</div>
    ${snack.opciones ? `
      <div class="select-box">
        <select>
          ${snack.opciones.map(o => `<option value="${o}">${o}</option>`).join("")}
        </select>
      </div>` : ""}
    ${snack.descripcion ? `<p style="font-size:13px;color:#555;">${snack.descripcion}</p>` : ""}
    <div class="input-container">
      <button class="btn" data-action="minus">‚àí</button>
      <input type="number" min="0" step="100" value="0">
      <button class="btn" data-action="plus">+</button>
    </div>
  </div>`;
}

individuales.forEach(s => crearItem(s, contInd));
combinados.forEach(s => crearItem(s, contComb));

function updateTotal() {
  let total = 0;
  document.querySelectorAll(".item").forEach(i => {
    const cantidad = parseInt(i.querySelector("input").value) || 0;
    const precio = parseInt(i.dataset.precio);
    total += (cantidad / 100) * precio;
  });
  totalDiv.textContent = `Total: $${total.toLocaleString()} COP`;
  comprarBtn.disabled = total === 0;
}

document.addEventListener("click", e => {
  const item = e.target.closest(".item");
  if (item && e.target.classList.contains("btn")) {
    const input = item.querySelector("input");
    let val = parseInt(input.value) || 0;
    val += e.target.dataset.action === "plus" ? 100 : -100;
    if (val < 0) val = 0;
    input.value = val;
    updateTotal();
  }
});

// Modal beneficios
const modal = document.getElementById("modal");
const close = document.querySelector(".close");
const benefTitle = document.getElementById("benefTitle");
const benefList = document.getElementById("benefList");

document.addEventListener("click", e => {
  if (e.target.classList.contains("lupa")) {
    const nombre = e.target.closest(".item").dataset.nombre;
    benefTitle.textContent = nombre;
    const list = beneficios[nombre] || ["Snack saludable y natural"];
    benefList.innerHTML = list.map(b => `<li>${b}</li>`).join("");
    modal.style.display = "block";
  }
});
close.onclick = () => modal.style.display = "none";
window.onclick = e => { if (e.target === modal) modal.style.display = "none"; };
</script>
</body>
</html>
